(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[453],{340:function(e,r,n){Promise.resolve().then(n.bind(n,4798))},7907:function(e,r,n){"use strict";var t=n(5313);n.o(t,"useRouter")&&n.d(r,{useRouter:function(){return t.useRouter}}),n.o(t,"useSearchParams")&&n.d(r,{useSearchParams:function(){return t.useSearchParams}})},4798:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return u}});var t=n(3827),a=n(4090),s=n(7907),o=n(4958);function c(){let e=(0,s.useRouter)(),r=(0,s.useSearchParams)();return(0,a.useEffect)(()=>{(async()=>{try{let n=r.get("code");if(!n){console.error("No code in URL"),e.push("/login?error=no-code");return}let{error:t}=await o.OQ.auth.exchangeCodeForSession(n);if(t){console.error("Error exchanging code for session:",t.message),e.push("/login?error=auth-failed");return}let a=r.get("from")||"/dashboard";e.push(a)}catch(r){console.error("Error during auth callback:",r),e.push("/login?error=auth-failed")}})()},[e,r]),(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-b from-neutral-900 to-black",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-neutral-400",children:"Completing sign in..."})]})})}function u(){return(0,t.jsx)(a.Suspense,{fallback:(0,t.jsx)("div",{className:"h-screen w-full flex items-center justify-center bg-gradient-to-b from-neutral-900 to-black",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 animate-spin rounded-full border-2 border-primary border-t-transparent mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-neutral-400",children:"Loading..."})]})}),children:(0,t.jsx)(c,{})})}},4958:function(e,r,n){"use strict";n.d(r,{OQ:function(){return t},y1:function(){return a}});let t=(0,n(8714).createClientComponentClient)(),a=async(e,r)=>{try{let{data:n,error:a}=await t.auth.signUp({email:e,password:r,options:{emailRedirectTo:"".concat(window.location.origin,"/auth/callback")}});if(a)throw a;return{data:n,error:null}}catch(e){return console.error("Sign up error:",e),{data:null,error:e}}}}},function(e){e.O(0,[714,971,69,744],function(){return e(e.s=340)}),_N_E=e.O()}]);